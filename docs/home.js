search=!(url=window.location.href).includes("?")||url.split("?").length<2?"":url.split("?")[1],window.parent!=window&&(window.parent.document.getElementById("loading").style.display="table-cell",window.parent.document.getElementById("homeIcon").className="fa-solid fa-home");var titleObj={},topTitleHome=(jQuery.ajax({url:"https://dbtfbs.trth.nl/"+passwdPathStr+"title.json",type:"GET",dataType:"text/plain",async:!1,complete:function(t){titleObj=JSON.parse(t.responseText)},error:function(){console.log("Unable to load title name (titleObj)")}}),document.getElementById("topTitle")),titleHome=document.getElementById("title"),group=(Object.keys(titleObj).includes("home")&&(topTitleHome.innerHTML="",titleHome.innerHTML="",$.each(titleObj.home,function(t,e){topTitleHome.innerText=t,titleHome.innerText=e,window.parent!=window&&(window.parent.document.getElementById("subTitle").innerHTML="<b>"+t+"</b>")})),Object.keys(titleObj).includes("icon")&&(document.getElementById("titleIcon").src=titleObj.icon.true),{}),postfixStr=(jQuery.ajax({url:"https://dbtfbs.trth.nl/"+passwdPathStr+"related/groupFor"+oprtr.home+".json",type:"GET",dataType:"json",async:!1,complete:function(t){group=JSON.parse(t.responseText)},error:function(){console.log("Unable to load group database")}}),jQuery.ajax({url:"https://dbtfbs.trth.nl/"+passwdPathStr+"related/category.json",type:"GET",dataType:"json",async:!1,complete:function(t){category=JSON.parse(t.responseText)},error:function(){console.log("Unable to load category database")}}),jQuery.ajax({url:"https://dbtfbs.trth.nl/"+passwdPathStr+"related/reShortForm.json",type:"GET",dataType:"json",async:!1,complete:function(t){reShortForm=JSON.parse(t.responseText)},error:function(){console.log("Unable to load reShortForm database")}}),""),postfixStr=""==passwdStr?"":"ver="+passwdStr,shortTarget="",shortTarget="Family"==oprtr.home?"TFf":reShortForm[oprtr.home],shortArr=[];function drawTable(t,e,r){r.innerHTML="",childStr=oprtr.show.replace(/Count/g,"");for(var o=[],l=0;l<t.length;++l)""!=t[l]&&o.push(t[l]);t=o,shortArr=[];for(l=0;l<e.length;++l)""!=e[l]&&shortArr.push(reShortForm[e[l]]);r.innerHTML="",theadEle=document.createElement("thead"),seRowEle=document.createElement("tr"),(tsThEle=document.createElement("th")).innerHTML="TF family",tsThEle.noWrap=!0,seRowEle.appendChild(tsThEle),(taThEle=document.createElement("th")).innerHTML="All experiments<br>(number of TFs studied)",taThEle.noWrap=!0,seRowEle.appendChild(taThEle);for(var n=0;n<t.length;++n)(bioTh=document.createElement("th")).noWrap=!0,bioA=document.createElement("a"),t[n].includes("-cell-")?bioA.innerHTML=t[n].replace(/-/g," ").replace(/of/g,"of<br>"):bioA.innerHTML=t[n],bioA.href="result.html?"+reShortForm[childStr]+"="+reShortForm[t[n]]+"&target="+childStr+"&"+hrefOBj["#total"]+"&"+postfixStr,bioTh.appendChild(bioA),seRowEle.appendChild(bioTh);theadEle.appendChild(seRowEle),r.appendChild(theadEle);for(var a=group["#total"+oprtr.home],d=[],n=0;n<category.Source.length;++n)d.push(reShortForm[category.Source[n]]);for(n=0;n<e.length;++n){var i=(urlPrefixStr=Object.keys(hrefOBj).includes(e[n])?"result.html?"+hrefOBj[e[n]]+"&"+postfixStr:"result.html?"+hrefOBj["#home"]+"&"+postfixStr)+"&"+shortTarget+"="+reShortForm[e[n]]+"&target="+oprtr.home;rowEle=document.createElement("tr"),(titleTd=document.createElement("td")).noWrap=!0,(titleA=document.createElement("a")).innerHTML=e[n],titleA.href=i,titleA.id=e[n].replace(/ /g,"_")+"_jump",titleTd.appendChild(titleA),rowEle.appendChild(titleTd),(totalTd=document.createElement("td")).noWrap=!0,(totalA=document.createElement("a")).innerHTML=a[e[n]],totalA.href=i,totalTd.appendChild(totalA),rowEle.appendChild(totalTd),pageObj=group[e[n]];for(var c=0;c<t.length;++c)countTd=document.createElement("td"),countUrlStr=urlPrefixStr+"&"+shortTarget+"="+reShortForm[e[n]]+"&"+reShortForm[childStr]+"="+reShortForm[t[c]]+"&target="+oprtr.home+"-to-"+childStr,Object.keys(pageObj).includes(t[c])?((countA=document.createElement("a")).innerHTML=pageObj[t[c]],countA.href=countUrlStr,countTd.appendChild(countA)):countTd.innerHTML="",rowEle.appendChild(countTd);r.appendChild(rowEle)}totalUrlStr="result.html?"+shortTarget+"="+shortArr.join(",")+"&target="+oprtr.home+"&"+hrefOBj["#total"]+"&"+postfixStr,thRowEle=document.createElement("tr"),titleTd=document.createElement("td"),(titleA=document.createElement("a")).noWrap=!0,titleA.innerHTML="Total",titleA.href=totalUrlStr,titleA.id="Total_jump",titleTd.appendChild(titleA),titleTd.className="totalTotal",titleTd.id="totalTotal",thRowEle.appendChild(titleTd),(totalTd=document.createElement("td")).className="totalRow",totalTd.noWrap=!0,totalTd.id="totalRow",(totalA=document.createElement("a")).innerHTML=group["#totalTotal"],totalA.href=totalUrlStr,totalTd.appendChild(totalA),thRowEle.appendChild(totalTd),totalBioObj=group["#totalTarget"];for(c=0;c<t.length;++c)(countTd=document.createElement("td")).className="totalRow",countTd.id="totalRow",(countA=document.createElement("a")).innerHTML=totalBioObj[t[c]],countA.href="result.html?"+reShortForm[childStr]+"="+reShortForm[t[c]]+"&target="+childStr+"&"+hrefOBj["#total"]+"&"+postfixStr,countTd.appendChild(countA),thRowEle.appendChild(countTd);r.appendChild(thRowEle),(aEle=document.getElementById("full-table-link")).href=totalUrlStr}function goSubmit(){currentStr=baseURL(),(targetArr=[currentStr]).push(hrefOBj["#total"]),targetArr.push(shortTarget+"="+shortArr.join(",")),targetArr.push("target="+oprtr.home),targetStr="",0<targetArr.length&&(targetStr=targetArr.join("&").replace(/&&/g,"&").replace(/\?&/g,"?"));currentStr;var t="result.html?"+targetStr,e="query.html?"+currentStr;return window.parent!=window&&(window.parent.document.getElementById("jumpStore").innerText=e),window.localStorage.setItem("jumpStore",e),window.location.href=t,!1}function goQuery(){finalArr=reArrange();var t="",t=(""!=passwdStr&&finalArr.push("ver="+passwdStr),"query.html?"+(t=0<finalArr.length?finalArr.join("&").replace(/&&/g,"&").replace(/\?&/g,"?"):t));return window.location.href=t,!1}function toggleSearch(){return"none"==document.getElementById("searchBarTable").style.display?document.getElementById("searchBarTable").style.display="flex":document.getElementById("searchBarTable").style.display="none",!1}document.getElementById("download-link").href="download.html?"+postfixStr,drawTable(group["#index"][oprtr.show],group["#index"][oprtr.home],document.getElementById("speciesTable")),document.getElementById("searchToggleBtn").href="javascript: void(toggleSearch())";